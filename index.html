<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="What the package does (one paragraph).">
<title>What the Package Does (One Line, Title Case) • rSocialWatcher</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="What the Package Does (One Line, Title Case)">
<meta property="og:description" content="What the package does (one paragraph).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">rSocialWatcher</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/rsocialwatcher-vignette.html">rSocialWatcher</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ramarty/rSocialWatcher/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rsocialwatcher">rSocialWatcher<a class="anchor" aria-label="anchor" href="#rsocialwatcher"></a>
</h1></div>
<p>Query data from the Facebook Marketing API using R, with a focus for social science research. <strong>NOTE: This is under development and subject to change</strong></p>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#apikey">API Keys</a></li>
<li><a href="#quick">Quick Start</a></li>
<li><a href="#usage">Usage</a></li>
</ul>
<div class="section level2">
<h2 id="overview-">Overview <a name="overview"></a>
<a class="anchor" aria-label="anchor" href="#overview-"></a>
</h2>
<p>This package facilitates querying data from the Facebook Marketing API. The packages is inspired by <a href="https://github.com/maraujo/pySocialWatcher" class="external-link">pySocialWatcher</a>, which is a similar package built for python. Emerging research has shown that the Facebook Marketing API can provide useful data for social science research. For example, <a href="https://ojs.aaai.org//index.php/ICWSM/article/view/7361" class="external-link">Fatehkia et al 2020</a> show the use of Facebook data for estimating poverty; features such as the proportion of monthly active Facebook users with a high-end phone correlate strongly with ground-truth measures of poverty.</p>
<p>The package provides two functions:</p>
<ul>
<li>
<code>get_fb_parameter_ids</code>: To obtain IDs for targeting users by different characteristics, including different types and by their location.</li>
<li>
<code>query_fb_marketing_api</code>: Query daily and monthly active users, querying users for specific locations and by specific types.</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation-">Installation <a name="installation"></a>
<a class="anchor" aria-label="anchor" href="#installation-"></a>
</h2>
<p>The package is available via Github and can be install using <code>devtools</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ramarty/rSocialWatcher"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="facebook-api-keys-">Facebook API Keys <a name="apikeys"></a>
<a class="anchor" aria-label="anchor" href="#facebook-api-keys-"></a>
</h2>
<p>[INCLUDE TEXT HERE DESCRIBING HOW TO GET KEY].</p>
</div>
<div class="section level2">
<h2 id="quickstart-">Quickstart <a name="quick"></a>
<a class="anchor" aria-label="anchor" href="#quickstart-"></a>
</h2>
<ul>
<li><a href="#quick-setup">Setup</a></li>
<li><a href="#quick-param-id">Get Facebook Parameter IDs</a></li>
<li><a href="#quick-location">Query Facebook Users for Different Location Types</a></li>
<li><a href="#quick-attributes">Query Facebook Users by Different Attributes</a></li>
<li><a href="#quick-multiple">Map Over Multiple Queries</a></li>
</ul>
<div class="section level3">
<h3 id="setup-">Setup <a name="quick-setup"></a>
<a class="anchor" aria-label="anchor" href="#setup-"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ramarty.github.io/rSocialWatcher/">rSocialWatcher</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define API version, creation act &amp; token -------------------------------------</span></span>
<span><span class="va">VERSION</span>      <span class="op">&lt;-</span> <span class="st">"[ENTER HERE]"</span></span>
<span><span class="va">CREATION_ACT</span> <span class="op">&lt;-</span> <span class="st">"[ENTER HERE]"</span></span>
<span><span class="va">TOKEN</span>        <span class="op">&lt;-</span> <span class="st">"[ENTER HERE]"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="get-dataframes-of-select-parameter-ids-">Get dataframes of select parameter IDs <a name="quick-param-id"></a>
<a class="anchor" aria-label="anchor" href="#get-dataframes-of-select-parameter-ids-"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get dataframe of Facebook parameter IDs and descriptions ---------------------</span></span>
<span><span class="co">## Interests and behaviors</span></span>
<span><span class="va">interests_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_fb_parameter_ids.html">get_fb_parameter_ids</a></span><span class="op">(</span><span class="st">"interests"</span>, <span class="va">VERSION</span>, <span class="va">TOKEN</span><span class="op">)</span></span>
<span><span class="va">behaviors_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_fb_parameter_ids.html">get_fb_parameter_ids</a></span><span class="op">(</span><span class="st">"behaviors"</span>, <span class="va">VERSION</span>, <span class="va">TOKEN</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Locations: countries</span></span>
<span><span class="va">country_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_fb_parameter_ids.html">get_fb_parameter_ids</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="va">VERSION</span>, <span class="va">TOKEN</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="query-data-for-different-location-types-">Query data for different location types <a name="quick-location"></a>
<a class="anchor" aria-label="anchor" href="#query-data-for-different-location-types-"></a>
</h3>
<p><strong>Example 1:</strong> Query Facebook users in US</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">us_key</span> <span class="op">&lt;-</span> <span class="va">country_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"United States"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">key</span><span class="op">)</span></span>
<span></span>
<span><span class="va">us_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_fb_marketing_api.html">query_fb_marketing_api</a></span><span class="op">(</span></span>
<span>  location_unit_type <span class="op">=</span> <span class="st">"countries"</span>,</span>
<span>  location_keys      <span class="op">=</span> <span class="va">us_key</span>,</span>
<span>  version            <span class="op">=</span> <span class="va">VERSION</span>, </span>
<span>  creation_act       <span class="op">=</span> <span class="va">CREATION_ACT</span>, </span>
<span>  token              <span class="op">=</span> <span class="va">TOKEN</span><span class="op">)</span></span></code></pre></div>
<p><strong>Example 2:</strong> Query Facebook users around specific location</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">latlon_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_fb_marketing_api.html">query_fb_marketing_api</a></span><span class="op">(</span></span>
<span>  location_unit_type <span class="op">=</span> <span class="st">"coordinates"</span>,</span>
<span>  lat_lon            <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40.712</span>, <span class="op">-</span><span class="fl">74.006</span><span class="op">)</span>,</span>
<span>  radius             <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  radius_unit        <span class="op">=</span> <span class="st">"kilometer"</span>,</span>
<span>  version            <span class="op">=</span> <span class="va">VERSION</span>, </span>
<span>  creation_act       <span class="op">=</span> <span class="va">CREATION_ACT</span>, </span>
<span>  token              <span class="op">=</span> <span class="va">TOKEN</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="query-data-for-different-user-attributes-">Query data for different user attributes <a name="quick-attributes"></a>
<a class="anchor" aria-label="anchor" href="#query-data-for-different-user-attributes-"></a>
</h3>
<p><strong>Example 3 [One parameter]:</strong> Facebook users who primarily access Facebook using Mac OS X living in the US</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">beh_mac_id</span> <span class="op">&lt;-</span> <span class="va">behaviors_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"Facebook access (OS): Mac OS X"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span><span class="va">us_mac_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_fb_marketing_api.html">query_fb_marketing_api</a></span><span class="op">(</span></span>
<span>  location_unit_type <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>  location_keys      <span class="op">=</span> <span class="st">"US"</span>,</span>
<span>  behaviors          <span class="op">=</span> <span class="va">beh_mac_id</span>,</span>
<span>  version            <span class="op">=</span> <span class="va">VERSION</span>,</span>
<span>  creation_act       <span class="op">=</span> <span class="va">CREATION_ACT</span>,</span>
<span>  token              <span class="op">=</span> <span class="va">TOKEN</span><span class="op">)</span></span></code></pre></div>
<p><strong>Example 4 [Two parameters, OR condition]:</strong> Facebook users who primarily access Facebook using Mac OS X OR who are likely technology early adopters who live in the US. <em>Vectors of IDs are used to specify OR conditions.</em></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">beh_tech_id</span> <span class="op">&lt;-</span> <span class="va">behaviors_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"Technology early adopters"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span><span class="va">us_mac_or_tech_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_fb_marketing_api.html">query_fb_marketing_api</a></span><span class="op">(</span></span>
<span>  location_unit_type <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>  location_keys      <span class="op">=</span> <span class="st">"US"</span>,</span>
<span>  behaviors          <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">beh_mac_id</span>, <span class="va">beh_tech_id</span><span class="op">)</span>,</span>
<span>  version            <span class="op">=</span> <span class="va">VERSION</span>,</span>
<span>  creation_act       <span class="op">=</span> <span class="va">CREATION_ACT</span>,</span>
<span>  token              <span class="op">=</span> <span class="va">TOKEN</span><span class="op">)</span></span></code></pre></div>
<p><strong>Example 5 [Two parameters, AND condition]:</strong> Facebook users who primarily access Facebook using Mac OS X AND who are likely technology early adopters who live in the US. <em>Lists of IDs are used to specify AND conditions.</em></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">us_mac_and_tech_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_fb_marketing_api.html">query_fb_marketing_api</a></span><span class="op">(</span></span>
<span>  location_unit_type <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>  location_keys      <span class="op">=</span> <span class="st">"US"</span>,</span>
<span>  behaviors          <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">beh_mac_id</span>, <span class="va">beh_tech_id</span><span class="op">)</span>,</span>
<span>  version            <span class="op">=</span> <span class="va">VERSION</span>,</span>
<span>  creation_act       <span class="op">=</span> <span class="va">CREATION_ACT</span>,</span>
<span>  token              <span class="op">=</span> <span class="va">TOKEN</span><span class="op">)</span></span></code></pre></div>
<p><strong>Example 6 [Two parameters, OR and AND condition]:</strong> Facebook users who (primarily access Facebook using Mac OS X AND who are likely technology early adopters) OR are interested in computers, who live in the US. Multiple parameters (eg, behavior and interests) are grouped using OR conditions by default. The “flex_target” parameters can be used to specify AND conditions across parameters; see <a href="https://ramarty.github.io/rSocialWatcher/articles/rsocialwatcher-vignette.html#flexible-targetting-or-and-and">here</a> for examples.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>int_comp_id <span class="ot">&lt;-</span> interests_df <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"Computers (computers &amp; electronics))"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>us_mac_and_tech_or_comp_df <span class="ot">&lt;-</span> <span class="fu">query_fb_marketing_api</span>(</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">location_unit_type =</span> <span class="st">"country"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">location_keys      =</span> <span class="st">"US"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">behaviors          =</span> <span class="fu">list</span>(beh_mac_id, beh_tech_id),</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">interests          =</span> int_comp_id</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">version            =</span> VERSION,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">creation_act       =</span> CREATION_ACT,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">token              =</span> TOKEN)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="map-over-multiple-queries-">Map Over Multiple Queries <a name="quick-multiple"></a>
<a class="anchor" aria-label="anchor" href="#map-over-multiple-queries-"></a>
</h3>
<p>Putting parameters in the <code>map_param</code> function results in the <code>query_fb_marketing_api</code> function making multiple queries.</p>
<p><strong>Example 7:</strong> Make queries for different countries.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>country_df <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"United States"</span>, <span class="st">"Canada"</span>, <span class="st">"Mexico"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(key)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>us_mult_cnt_df <span class="ot">&lt;-</span> <span class="fu">query_fb_marketing_api</span>(</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">location_unit_type =</span> <span class="st">"country"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">location_keys      =</span> <span class="fu">map_param</span>(<span class="st">"US"</span>, <span class="st">"CA"</span>, <span class="st">"MX"</span>),</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">behaviors          =</span> <span class="fu">c</span>(beh_mac_id, beh_tech_id),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">interests          =</span> int_comp_id</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">version            =</span> VERSION,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">creation_act       =</span> CREATION_ACT,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">token              =</span> TOKEN)</span></code></pre></div>
<p><strong>Example 8:</strong> Make queries for different and behaviors. In total, six queries are made (mapping over three countries and two parameters).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>us_mult_cnt_param_df <span class="ot">&lt;-</span> <span class="fu">query_fb_marketing_api</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">location_unit_type =</span> <span class="st">"country"</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">location_keys      =</span> <span class="fu">map_param</span>(<span class="st">"US"</span>, <span class="st">"CA"</span>, <span class="st">"MX"</span>),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">behaviors          =</span> <span class="fu">map_param</span>(beh_mac_id, beh_tech_id),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">interests          =</span> int_comp_id</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">version            =</span> VERSION,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">creation_act       =</span> CREATION_ACT,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">token              =</span> TOKEN)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="usage-">Usage <a name="usage"></a>
<a class="anchor" aria-label="anchor" href="#usage-"></a>
</h2>
<p>See <a href="https://ramarty.github.io/rSocialWatcher/articles/rsocialwatcher-vignette.html">this vignette</a> for additional information and examples illustrating how to use the package.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ramarty/rSocialWatcher/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ramarty/rSocialWatcher/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>`use_mit_license()`</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rSocialWatcher</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Robert Marty <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/YOUR-ORCID-ID" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Robert Marty.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
